{% ckan_extends %}

{% block extras %}
    {% if pkg_dict.code %}
    <tr>
        <th scope='row' class='dataset-label'>{{ _('Code') }}</th>
        <td class='dataset-details'>{{ pkg_dict.code }}</td>
    </tr>
    {% endif %}

    {% if pkg_dict.parent %}
    <tr>
        <th scope='row' class='dataset-label'>{{ _('Generated By') }}</th>
        <td class='dataset-details'>{{ pkg_dict.parent }}</td>
    </tr>
    {% endif %}
    
    {% if pkg_dict.producers %}
    {% set producers = pkg_dict.producers.split(',') %}
    <tr>
        <th scope='row' class='dataset-label'>{{ _('Uses') }}</th>
        <td class='dataset-details'>
            {% for producer in producers %}
                <a href= {{ h.url_for(controller='package', action='read', id= h.datalineage_get_title_for_code(producer)) }}> {{ producer }}</a><br>
            {% endfor %}
        </td>
    </tr>
    {% endif %}

    {% if pkg_dict.consumers %}
    {% set consumers = pkg_dict.consumers.split(',') %}
    <tr>
        <th scope='row' class='dataset-label'>{{ _('Used By') }}</th>
        <td class='dataset-details'>
            {% for consumer in consumers %}
                <a href= {{ h.url_for(controller='package', action='read', id= h.datalineage_get_title_for_code(consumer)) }}> {{ consumer }}</a><br>
            {% endfor %}
        </td>
    </tr>
    {% endif %}
{% endblock %}